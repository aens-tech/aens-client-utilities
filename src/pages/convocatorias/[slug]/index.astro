---
import { Icon } from "astro-icon/components";
import { CONVOCATORIAS } from "../../../content/conv";
import BaseInterection from "../../../layouts/BaseInterection.layout.astro";
import {Button} from "@nextui-org/button"

export async function getStaticPaths() {
    return CONVOCATORIAS.map((conv) => ({
        params: { slug: conv.base.slug },
    }));
}

const { slug } = Astro.params;

const convocatoria = CONVOCATORIAS.find((v) => v.base.slug === slug);
const currentPath = Astro.url.pathname;
---

<BaseInterection
    title={convocatoria?.base.title ?? "Convocatoria"}
    description={convocatoria!.base.meta_description}
>
	<div class=" flex flex-col items-end">
		<Icon
			name={convocatoria?.first_screen.icon}
			class="text-primary text-[60px] mb-2 w-full"
		/>
		<h1 class="font-extrabold text-xl text-center">
			{convocatoria?.first_screen.title}
		</h1>
		<p class=" text-base">
			{convocatoria?.first_screen.description}
		</p>
		<a class=" bg-primary text-white flex flex-row items-center justify-center px-6 py-3 rounded-xl text-xs font-bold" href={`${currentPath}/form`} target="_self">
			<Icon name={convocatoria?.first_screen.call_to_action_icon} class=" mr-1 text-lg"/>
			{convocatoria?.first_screen.call_to_action}
			<!-- {`${currentPath}/form`} -->
		</a>
	</div>
</BaseInterection>
